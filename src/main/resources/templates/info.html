<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <title>ГИГ</title>

  <link th:href="@{/assets/images/logo.png}" rel="icon">
  <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

  <link rel="stylesheet" th:href="@{/assets/css/style.css}">
  <link rel="stylesheet" th:href="@{/assets/css/fontawesome.css}">
  <link rel="stylesheet" th:href="@{/assets/css/templatemo-woox-travel.css}">
  <link rel="stylesheet" th:href="@{/assets/css/owl.css}">
  <link rel="stylesheet" th:href="@{/assets/css/animate.css}">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300&display=swap"/>

</head>

<style>

  #content {
    flex: 1 0 auto;
  }

  footer {
    flex: 0 0 auto;
  }
  html,
  body {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  body {
    display: grid;
  }

  .card {
    position: relative;
    display: flex;
    padding:20px;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid #d2d2dc;
    border-radius: 11px;
    -webkit-box-shadow: 0px 0px 5px 0px rgb(249, 249, 250);
    -moz-box-shadow: 0px 0px 5px 0px rgba(212, 182, 212, 1);
    box-shadow: 0px 0px 5px 0px rgb(161, 163, 164)
  }

  .media img{

    width: 60px;
    height: 60px;
  }


  .reply a {

    text-decoration: none;
  }

  .main-button button {
    font-size: 14px;
    color: #fff;
    background-color: #4070f4;
    border: 1px solid #4070f4;
    padding: 12px 30px;
    display: inline-block;
    border-radius: 10px;
    font-weight: 500;
    text-transform: capitalize;
    letter-spacing: 0.5px;
    transition: all .3s;
    position: relative;
    overflow: hidden;
  }
  .reservation-form2 input {
    width: 100%;
    height: 46px;
    background-color: transparent;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    padding: 0px 20px;
    cursor: pointer;
    margin-bottom: 30px;
  }
</style>

<body>

<div id="js-preloader" class="js-preloader">
  <div class="preloader-inner">
    <span class="dot"></span>
    <div class="dots">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
</div>

<header class="header-area header-sticky">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav class="main-nav">
          <a href="/tenders" class="logo">
            <img th:src="@{/assets/images/logo.png}" alt="">
          </a>
          <ul class="nav">
            <li><a href="/tenders">Главная</a></li>
            <li><a href="/users/profile">Профиль</a></li>
            <li><a href="/tenders/addTender">Создать тендер</a></li>
            <li><a href="/users/login"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16" id="IconChangeColor"> <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" id="mainIconPathAttribute" fill="#ffffff"></path> </svg></a></li>
          </ul>
          <a class='menu-trigger'>
            <span>Menu</span>
          </a>
        </nav>
      </div>
    </div>
  </div>
</header>

<div class="more-about" id="content">
  <div class="container">
    <div class="row">
      <h3 th:text="${tender.getTitle()}"></h3>
      <div class="col-lg-6">
        <br>
        <div class="left-image">
          <img th:if="${tender.getPhoto() != null}" th:src="@{${tender.getPhoto().getLocationPath()}}" alt="">
        </div>
        <br>
        <span>Автор: <a th:text="${tender.getAuthor().getLastName()} + ' ' + ${tender.getAuthor().getFirstName()} + ' ' + ${tender.getAuthor().getPatrName()}" href="#"></a></span>

        <br>
        <br>
        <span th:text="'Дата: ' + ${tender.getCreatedAt()}"></span>
        <div th:if="${currentUser.getId()} == ${tender.getAuthor().getId()}" class="main-button">
          <a th:href="'/tenders/editTender/' + ${tender.getId()}">
            Редактировать<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" id="IconChangeColor" height="35" width="35"><path fill="blue" fill-rule="evenodd" d="M17.586 2a2 2 0 0 1 2.828 0L22 3.586a2 2 0 0 1 0 2.828L20.414 8 16 3.586 17.586 2zm-3 3-5 5A2 2 0 0 0 9 11.414V13a2 2 0 0 0 2 2h1.586A2 2 0 0 0 14 14.414l5-5L14.586 5z" clip-rule="evenodd" id="mainIconPathAttribute" filter="url(#shadow)"></path><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 14H5a2 2 0 0 0-2 2v0a2 2 0 0 0 2 2h14a2 2 0 0 1 2 2v0a2 2 0 0 1-2 2h-4" id="mainIconPathAttribute" fill="blue"></path><filter id="shadow"><feDropShadow id="shadowValue" stdDeviation=".5" dx="0" dy="0" flood-color="black"></feDropShadow></filter><filter id="shadow"><feDropShadow id="shadowValue" stdDeviation=".5" dx="0" dy="0" flood-color="black"></feDropShadow></filter></svg>
          </a>
        </div>
      </div>

      <div class="col-lg-6">
        <div class="section-heading">
          <br>
          <div class="row">
            <div class="col-lg-12 text-center">
              <div class="info-item">
                <h4 th:text="${votes}"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
                  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                  <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
                </svg></h4>
                <br>
                <div class="main-button no-mt">
                  <a th:href="'/tenders/vote/' + ${tender.getId()}">Подписаться
                  </a>
                </div>
              </div>
            </div>
          </div>
          <p th:text="${tender.getBody()}"></p>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container mb-5 mt-5">
  <div class="card">
    <div class="row">
      <div class="col-md-12">
        <h3 class="text-center mb-5">
          Комментарий
        </h3>
        <div class="row">
          <div class="col-md-12">
            <div class="media reservation-form2">
              <form th:object="${newComment}" name="gs" method="post" role="search" action="/comments">
                <div class="row">
                  <div class="col-lg-12">
                    <div class="row">
                      <div class="col-lg-1">
                        <img th:if="${currentUser.getProfilePhotoId() != null}" class="mr-3 rounded-5" alt="Bootstrap Media Preview" th:src="@{${currentUser.getProfilePhotoId().getLocationPath()}}" />
                        <img th:unless="${currentUser.getProfilePhotoId() != null}" src="https://liftlearning.com/wp-content/uploads/2020/09/default-image.png" alt="">
                      </div>
                      <div class="col-lg-6 p-2">
                        <input type="text" th:field="*{text}" class="Name" placeholder="Комментарий" autocomplete="on" required>
                        <input type="hidden" name="tender.id" th:value="${tender.id}">
                      </div>
                      <div class="col-lg-3 p-2 main-button">
                        <button>Добавить комментарий</button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
              <br>
              <div class="mt-4" th:each="comment : ${comments}">
                  <div class="row">
                    <div class="col-md-1">
                      <a href="#"><img th:if="${comment.getAuthor().getProfilePhotoId() != null}" class="rounded-5" alt="Bootstrap Media Another Preview" th:src="@{${comment.getAuthor().getProfilePhotoId().getLocationPath()}}" /></a>
                      <a href="#"><img th:unless="${comment.getAuthor().getProfilePhotoId() != null}" src="https://liftlearning.com/wp-content/uploads/2020/09/default-image.png" alt=""></a>
                    </div>
                    <div class="col-md-4 p-3">
                      <span style="color: #000000" th:text="${comment.getAuthor().getFirstName()} + ' ' + ${comment.getAuthor().getLastName()}"></span>
                    </div>
                  </div>
                  <br>
                  <div class="media-body">
                    <div style="color:#756f6f;" th:text="${comment.getText()}"></div>
                  </div>
                <br>
                <br>
                </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>



<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <p>г. Бишкек, п. М.Гвардия 32 Телефон доверия: +996 (312) 65-10-10, E-mail: ep@minjust.gov.kg</p>
      </div>
    </div>
  </div>
</footer>

<script th:src="@{/vendor/jquery/jquery.min.js}"></script>
<script th:src="@{/vendor/bootstrap/js/bootstrap.min.js}"></script>

<script th:src="@{/assets/js/isotope.min.js}"></script>
<script th:src="@{/assets/js/owl-carousel.js}"></script>
<script th:src="@{/assets/js/wow.js}"></script>
<script th:src="@{/assets/js/tabs.js}"></script>
<script th:src="@{/assets/js/popup.js}"></script>
<script th:src="@{/assets/js/custom.js}"></script>

<script>
  $(".option").click(function(){
    $(".option").removeClass("active");
    $(this).addClass("active");
  });
</script>

</body>

</html>
